<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Constructs a transaction that consumes available transparent UTXOs belonging to the specified secret key, and sends them to the default address for the provided Sapling extended full viewing key."><meta name="keywords" content="rust, rustlang, rust-lang, shield_transparent_funds"><title>shield_transparent_funds in zcash_client_backend::data_api::wallet - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><script defer src="../../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../zcash_client_backend/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../zcash_client_backend/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In zcash_client_backend::data_api::wallet</a></h2><div id="sidebar-vars" data-name="shield_transparent_funds" data-ty="fn" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../zcash_client_backend/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Function <a href="../../index.html">zcash_client_backend</a>::<wbr><a href="../index.html">data_api</a>::<wbr><a href="index.html">wallet</a>::<wbr><a class="fn" href="#">shield_transparent_funds</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/zcash_client_backend/data_api/wallet.rs.html#424-513">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust fn"><code>pub fn shield_transparent_funds&lt;E, N, P, D, R, U&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;wallet_db: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>D, <br>&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;prover: impl <a class="trait" href="../../../zcash_primitives/sapling/prover/trait.TxProver.html" title="trait zcash_primitives::sapling::prover::TxProver">TxProver</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;sk: &amp;<a class="struct" href="../../../zcash_primitives/legacy/keys/struct.AccountPrivKey.html" title="struct zcash_primitives::legacy::keys::AccountPrivKey">AccountPrivKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;extfvk: &amp;<a class="struct" href="../../keys/sapling/struct.ExtendedFullViewingKey.html" title="struct zcash_client_backend::keys::sapling::ExtendedFullViewingKey">ExtendedFullViewingKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;account: <a class="struct" href="../../../zcash_primitives/zip32/struct.AccountId.html" title="struct zcash_primitives::zip32::AccountId">AccountId</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;memo: &amp;<a class="struct" href="../../../zcash_primitives/memo/struct.MemoBytes.html" title="struct zcash_primitives::memo::MemoBytes">MemoBytes</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;min_confirmations: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;D::<a class="associatedtype" href="../trait.WalletRead.html#associatedtype.TxRef" title="type zcash_client_backend::data_api::WalletRead::TxRef">TxRef</a>, E&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;E: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="enum" href="../error/enum.Error.html" title="enum zcash_client_backend::data_api::error::Error">Error</a>&lt;N&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../../../zcash_primitives/consensus/trait.Parameters.html" title="trait zcash_primitives::consensus::Parameters">Parameters</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="../trait.WalletWrite.html" title="trait zcash_client_backend::data_api::WalletWrite">WalletWrite</a>&lt;Error = E, TxRef = R&gt; + <a class="trait" href="../trait.WalletWriteTransparent.html" title="trait zcash_client_backend::data_api::WalletWriteTransparent">WalletWriteTransparent</a>&lt;UtxoRef = U&gt;,&nbsp;</span></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Constructs a transaction that consumes available transparent UTXOs belonging to
the specified secret key, and sends them to the default address for the provided Sapling
extended full viewing key.</p>
<p>This procedure will not attempt to shield transparent funds if the total amount being shielded
is less than the default fee to send the transaction. Fees will be paid only from the transparent
UTXOs being consumed.</p>
<p>Parameters:</p>
<ul>
<li><code>wallet_db</code>: A read/write reference to the wallet database</li>
<li><code>params</code>: Consensus parameters</li>
<li><code>prover</code>: The TxProver to use in constructing the shielded transaction.</li>
<li><code>sk</code>: The secp256k1 secret key that will be used to detect and spend transparent
UTXOs.</li>
<li><code>extfvk</code>: The extended full viewing key that will be used to produce the
Sapling address to which funds will be sent.</li>
<li><code>account</code>: The ZIP32 account identifier associated with the the extended
full viewing key. This procedure will return an error if this does not correctly
correspond to <code>extfvk</code>.</li>
<li><code>memo</code>: A memo to be included in the output to the (internal) recipient.
This can be used to take notes about auto-shielding operations internal
to the wallet that the wallet can use to improve how it represents those
shielding transactions to the user.</li>
<li><code>min_confirmations</code>: The minimum number of confirmations that a previously
received UTXO must have in the blockchain in order to be considered for being
spent.</li>
</ul>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="zcash_client_backend" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (e95b10ba4 2022-03-13)" ></div>
</body></html>